<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<title>JMathAnim User&#8217;s Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>JMathAnim User&#8217;s Manual</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="truebasic-flow-of-an-animation"><a class="anchor" href="#truebasic-flow-of-an-animation"></a>Basic flow of an animation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We will illustrate this with a simple example: Create a java class named
`movingDot.java`in your IDE with this code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class movingDot extends Scene2D {
    @Override
    public void setupSketch() {
        conf.setCreateMovie(true);
        conf.setLowQuality();
    }

    @Override
    public void runSketch() throws Exception {
        Point p=Point.at(0,0);
        play.shift(2,Vec.to(1,0),p);
        waitSeconds(3);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and, for simplicity, another one with the`main`method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs"> public static void main(String[] args) {
        JMathAnimScene demoScene = new movingDot();
        demoScene.execute();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you execute the program, and if it everything goes well, you should
see a white point moving to the right in a window, which closes after a
few seconds. Something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="movingDot.gif" alt="movingDot">
</div>
</div>
<div class="paragraph">
<p>Besides, a file named <code>movingDots_480p.mp4</code> should be generated at the
<code>media</code> folder in your project directory, with the generated animation. We
will examine what happened here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">java public class movingDot extends Scene2D {...`</code></pre>
</div>
</div>
<div class="paragraph">
<p>All animations are defined in a class that extends the basic class
<code>JMathAnimScene</code>. In this case, <code>Scene2D</code> is a subclass of
<code>JMathAnimScene</code> which uses JavaFX to perform drawings. When you extend
this class, you&#8217;ll need to implement the two abstract methods
<code>setupSketch</code> and <code>runSketch</code>. The first does all necessary
configuration before doing actual animations, like width, height, fps,
should create a movie or not, should show preview window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs"> @Override
    public void setupSketch() {
        conf.setCreateMovie(true);
        conf.setLowQuality();
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>conf</code> object stores global configuration and has several methods to
fine tuning your scene. The <code>conf.setCreateMovie(true)</code> tells that it
should generate a movie. In practice, you should generate a movie in the
last stages of your design, so by default this flag is set to <code>false</code>.</p>
</div>
<div class="paragraph">
<p>The <code>conf.setLowQuality()</code> command stablishes dimensions of 854x480 and
30 frames per second. Aditionally there is <code>conf.setMediumQuality()</code>
with 1280x1024 at 30fps and <code>conf.setHighQuality()</code> with 1920x1080 at
60fps. All these settings are 16:9.</p>
</div>
<div class="paragraph">
<p>The second method is where you should perform all the animations and
drawings.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">  @Override
    public void runSketch() throws Exception {
        Point p=Point.at(0,0);
        play.shift(2,1,0,p);
        waitSeconds(3);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The coordinates where our objects live (the "mathview") are centered
initially at (0,0) with x from -2 to 2 and y from -1.125 to 1.125.
Although the center and the x-boundaries are always these at the beginning, the y-boundaries may
vary depending on the proportion. For a 16:9 proportion, these are the
default values.</p>
</div>
<div class="paragraph">
<p>The command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Point p=Point.at(0,0);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Creates a `Point`object, which represents a point at (0,0). These object
is not automatically added to the scene. You should include it with
the`add(p)`command or animating it in some way. Note that, up to this
point, no frames were generated. The following command begins to do the
magic:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">play.shift(2,Vec.to(1,0),p);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Plays an animation, with lasts for 2 seconds, shifting the specified
object <code>p</code> with a vector of coordinates <code>(1,0)</code>.</p>
</div>
<div class="paragraph">
<p>The specified animation generates 2 seconds of frames (the precise
number of frames depends on fps) shifting our point one unit to the
right.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">waitSeconds(3);</code></pre>
</div>
</div>
<div class="paragraph">
<p>With this command, we generate 3 seconds of still frames, where nothing
happens, apart from seeing the objects we added to the scene.</p>
</div>
<div class="paragraph">
<p>When the `runSketch()`method is done, all necessary finishing procedures
are called (finishing the movie, closing preview windows, etc.) and the
execution terminates.</p>
</div>
<div class="paragraph">
<p>As you can see the basic flow of a typical scene is</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Setup animation with `setupSketch()`method</p>
</li>
<li>
<p>Write all the animation code in `runSketch()`method so that</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should create different objects, adding them to the scene.</p>
</li>
<li>
<p>Frames of the animation are generated when calling animation commands
like <code>play.shift</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Actually, there is another, more procedural form, to do animations, with
the <code>advanceFrame()</code> method. You can manually adjust the properties of
your objects like size or position and calling <code>advanceFrame()</code> each
time. This way can be useful when you want to do complex movements like
solving ODE or similar.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truebasic-objects"><a class="anchor" href="#truebasic-objects"></a>Basic Objects</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truethe-vec-class"><a class="anchor" href="#truethe-vec-class"></a>The Vec class</h3>
<div class="paragraph">
<p>The <code>Vec`class represents a 2D vector (although it includes the
z-coordinate too). All coordinates in the math view are represented by
this class. Several methods are implemented for this class. For example,
methods `add</code> and <code>mult</code> adds 2 vectors or multiply by a
scalar,returning a new vector object with the result. These methods have
their versions <code>addInSite</code> and <code>multInSite</code> which returns <code>void</code> and
change the original vector.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Vec v=new Vec(1,3); //Creates a new vector.
Vec u=Vec.to(4,5);//Another way, using a static constructor.
double x=v.x;//The x-coordinate of the vector
double y=v.y;//The x-coordinate of the vector
double norm=v.norm();//returns the euclidean norm of the vector.
Vec w=v.mult(2);//Returns a copy of the vector scaled by 2. The vector v is not modified.
v.multInSite(3);//Multiplies the vector v by 3. The vector v is modified.
double dot=w.dot(v);//Computes the dot product of v and w
double angle=v.getAngle();//Returns the angle of v, from 0 to 2*PI</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="truethe-point-class"><a class="anchor" href="#truethe-point-class"></a>The <code>Point</code> class</h3>
<div class="paragraph">
<p>Everything what you can draw in the screen is a subclass of the
<code>MathObject</code> class (moreover, everything that implements the <code>Drawable</code>
method). So, they share a few common methods, like <code>scale</code>, <code>rotate</code> or
<code>shift</code>. We&#8217;ll see this methods later.</p>
</div>
<div class="paragraph">
<p>The `Point`class is the most basic `MathObject`and, yes, you&#8217;re right,
it represents a single point.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Point p=new Point(1,1); //You can create a point using constructors
Point q=Point.at(0,2);//Or using a static method</code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>Point`object contains a `Vec</code> object which stores its coordinates.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Vec v=p.v; //Coordinates of Point p
double x=p.v.x; //x-coordinate of p
double d=p.v.norm(); //Distance of p to the origin</code></pre>
</div>
</div>
<div class="paragraph">
<p>A point can be represented in different styles, defined in the
<code>DotStyle</code> enum, namely <code>CIRCLE, CROSS, PLUS</code> which show as this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="dots.png" alt="dots">
</div>
</div>
<div class="paragraph">
<p>The code used was</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Override
public void runSketch() throws Exception {
        Point A = Point.at(-.5, 0).dotStyle(DotSyle.CIRCLE);
        Point B = Point.at(0, 0).dotStyle(DotSyle.CROSS);
        Point C = Point.at(.5, 0).dotStyle(DotSyle.PLUS);
        add(A, B, C); //Add the 3 points to the scene
        waitSeconds(5); //Give me time to do a screenshot!
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try to execute this code you&#8217;ll probably see the dots are white
over black background. These are the default color values. I used
another colors for this document. Don&#8217;t worry, we&#8217;ll see later how to
change this. You&#8217;ll see that you can easily apply styles to your
animations.</p>
</div>
</div>
<div class="sect2">
<h3 id="truethe-shape-class"><a class="anchor" href="#truethe-shape-class"></a>The <code>Shape</code> class</h3>
<div class="paragraph">
<p>This class represents a shape defined by a curve. The truth is, it
represents more than that, as it can represents a closed or open curve,
or even a curve defined by many disconnected pieces.</p>
</div>
<div class="paragraph">
<p>Several convenience static methods are defined to easily create most
common shapes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">//Generates a circle with radius 1 and centered at (0,0)
Shape circ=Shape.circle();
//Generates a unit-square, with lower left cornet at (0,0)
Shape sq=Shape.square();
//A regular pentagon, with 2 first vertices at (0,0) and (1,0)
Shape reg=Shape.regularPolygon(5);
//A closed polygon (in this case, a triangle)
Shape poly=Shape.polygon(Point.at(0,0),Point.at(1,1),Point.at(0,1));
//A rectangle with their sides parallel to the axes, with lower left and upper right vertices at (1,2) and (3,5) respectively.
Shape rect=Shape.rectangle(Point.at(1,2),Point.at(3,5));
//A segment specified by the given points
Shape seg=Shape.segment(Point.at(-1,-1),Point.at(-.5,1.5));
//An arc centered at (0,0) with radius 1, and arclength of PI/4 radians
Shape arc=Shape.arc(PI/4);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you add all these objects to the scene with the command
<code>add(circ,sq,reg,rect,seg,arc)</code> you&#8217;ll obtain something like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="basicShapes.png" alt="basicShapes">
</div>
</div>
<div class="paragraph">
<p>The <code>Shape</code> class is one of the most important and the most likely to be
animated. Several other classed depend on it.</p>
</div>
<div class="paragraph">
<p>Each <code>Shape</code> object has a <code>JMPath</code> object which stores and manages the
path represented. Each point of the path can be acceses with the method
<code>getPoint(n)</code>. This is a circular array and zero-based, that is, if you
have the object <code>pentagon</code> which is a shape with 5 vertices,
<code>pentagon.getPoint(0)</code> will give you the first point of the shape,
<code>pentagon.getPoint(1)</code> the second one,&#8230;&#8203;and
<code>pentagon.getPoint(5)</code> instead of giving you an error, will return again
the first point of the path.</p>
</div>
<div class="paragraph">
<p>In the `Shape`objects, apart from `.getCenter()`method, which returns
the center of its bounding box, there is also the `.getCentroid()`method
which computes the centroid of the shape, defined by the mean point of
all its vertices. This method effectively returns the center of a
regular polygon for example, instead the `.getCenter()`method.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truethe-latexmathobject-class"><a class="anchor" href="#truethe-latexmathobject-class"></a>The <code>LaTeXMathObject</code> class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to include mathematical expressions in any work, of course,
the best software to use is <code>LaTeX</code>. This class renders a mathematical
expression written in LaTeX and imports it so you can draw it and
animate it in several ways. To do this you&#8217;ll need a working LaTeX
distribution installed on your system and accesible from your path. So,
if you put the following the code in the <code>runSketch()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">LaTeXMathObject text = new LaTeXMathObject("Look mom, I'm \\LaTeX!");
add(text);
waitSeconds(5);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="LaTeX_1.png" alt="LaTeX 1">
</div>
</div>
<div class="paragraph">
<p>A minor drawback when combining LaTeX and Java, is that one of the most
used symbols in LaTeX is the backslash "\", and Java doesn&#8217;t accept
single backslashes in their strings, so, if you want to compile a LaTeX
formula like this</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="latex" class="language-latex hljs">$$\int_0^\infty e^{-x}\,dx=1$$</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll have to replace every single backslash "\" with a double one "\\"</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">LaTeXMathObject formula = new LaTeXMathObject("$$\\int_0^\\infty e^{-x}\\,dx=1$$");
add(formula);
waitSeconds(5);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Otherwise you will get an error. Fortunately, most commons java IDE,
like Netbeans, automatically perform this change when copy-pasting an
already written formula into the code editor.</p>
</div>
<div class="paragraph">
<p>By default, LaTeX formulas are placed so that their left side is
centered at (0,0).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueimporting-images"><a class="anchor" href="#trueimporting-images"></a>Importing images</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JMathAnim allows both bitmap and vectorial images. All bitmap formats
supported by JavaFX can be added into the scene with `JMImage`class and
SVG format is (partially) supported using the `SVGMathObject`class.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truetransforming-objects"><a class="anchor" href="#truetransforming-objects"></a>Transforming Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All classes that inherit from <code>MathObject</code> can be transformed. Several
methods for shifting, rotating, scaling or aligning are defined, and
most of them have their animated version. Note that also most of these
methods return the object self, so that they can be applied
consecutively like this <code>object.method1().method2()&#8230;&#8203;</code></p>
</div>
<div class="sect2">
<h3 id="truepositioning-objects"><a class="anchor" href="#truepositioning-objects"></a>Positioning objects</h3>
<div class="sect3">
<h4 id="trueshift"><a class="anchor" href="#trueshift"></a>Shift</h4>
<div class="paragraph">
<p>The <code>shift</code> command shifts the object by the specified vector</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape c=Shape.circle().shift(Vec.to(1,1));//An unit circle, centered at (1,1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simpler 2D-version is also provided:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq=Shape.square().shift(-3,0);//An unit square, lower left vertex at (-3,0)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="truemoveto"><a class="anchor" href="#truemoveto"></a>MoveTo</h4>
<div class="paragraph">
<p>The <code>MoveTo</code> command shifts the object so that its center is positioned
at the given coordinates. Note that the center is the center of the
bounding box of the object, not the geometrical center. For regular
polygons, for example, they don&#8217;t necessarily match.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape r=Shape.regularPolygon(5).moveTo(3,3);//A pentagon, with its bounding box centered at (3,3)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueputat"><a class="anchor" href="#trueputat"></a>PutAt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This command puts the objects so that its specified anchor point is
located at a given coordinates. The anchor point of a object can be one
of the defined in the <code>Anchor</code> enum, that is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>BY_CENTER</code> Center of the object</p>
</li>
<li>
<p><code>LEFT, RIGHT, UPPER, LOWER</code> middle point of the left/right/upper/lower
side of the bounding box of the object.</p>
</li>
<li>
<p><code>UL, UR, DL, DR</code> Up-left, up-right, down-left and down-right corners
of the bounding box</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some examples illustrate better. If you execute this code in the
<code>runSketch()</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Point A = Point.at(.5, .5);
Shape circ = Shape.circle().putAt(A, Anchor.UPPER);//Set upper point of circle bouding box to A
Shape arc = Shape.arc(120 * DEGREES).putAt(A, Anchor.UR);//Set up-right point of arc bounding box to A
Shape sq = Shape.square().putAt(A, Anchor.BY_CENTER);//Set center of square to A
add(A, circ, arc, sq);//Add everything to the scene
waitSeconds(5);//Give me time to make a screenshot!</code></pre>
</div>
</div>
<div class="paragraph">
<p>it gives this image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="01_anchorExample.png" alt="01 anchorExample">
</div>
</div>
<div class="paragraph">
<p>The command <code>putAt</code> accepts a third argument <code>gap</code> to leave a space
between the point and the anchor. This gap doesn&#8217;t apply for
<code>Anchor.BY_CENTER</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truestackto"><a class="anchor" href="#truestackto"></a>StackTo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>StackTo</code> command works in a similar way that <code>putAt</code>, but allows to
position an object relative to another one. For example, the following
code creates 4 circles, and stacks them into a square in different ways:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape c1=Shape.circle();
Shape c2=c1.copy();
Shape c3=c1.copy();
Shape c4=c1.copy();
Shape sq=Shape.square();
c1.stackTo(sq,Anchor.LEFT,.1);//Stacks circle to the left of the square, with a gap of .1 units
c2.stackTo(sq,Anchor.RIGHT,.1);//Stacks circle to the right of the square, with a gap of .1 units
c3.stackTo(sq,Anchor.UPPER);//Stacks circle to the upper side of the square, with no gap
c4.stackTo(sq,Anchor.BY_CENTER);//Stacks circle center-to-center with the square
add(c1,c2,c3,c4,sq);//Add everything to the scene
camera.adjustToAllObjects(); //Adjust camera, so that everyone gets into the photo
waitSeconds(5);//That is, smile for the screenshot!</code></pre>
</div>
</div>
<div class="paragraph">
<p>which produces the following image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="02_stackToExample.png" alt="02 stackToExample">
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll notice two new methods here: The <code>copy()</code> method returns a copy
of the object, and the <code>camera.adjustToAllObjects()</code> does as it says,
rescales the camera so that everything fits into view.</p>
</div>
<div class="paragraph">
<p>As in the <code>putAt</code> method, a third parameter <code>gap</code> is allowed to add a
given gap between the objects.</p>
</div>
<div class="paragraph">
<p>The <code>stackTo</code> command allows to easily generate aligned objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape previousPol = Shape.regularPolygon(6);//First hexagon
add(previousPol);
for (int n = 0; n &lt; 10; n++) {
    Shape pol = Shape.regularPolygon(6).stackTo(previousPol, Anchor.RIGHT);
    add(pol);
    previousPol=pol;//New polygon becomes previous in the next iteration
}
camera.adjustToAllObjects();//Everyone should appear in the photo
waitSeconds(5);//Time for screenshot, but you already should know that</code></pre>
</div>
</div>
<div class="paragraph">
<p>Which produces this regular polygons pattern. Note that all polygons are
vertically aligned and their bounding boxes are stacked horizontally.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="02b_stackToExample2.png" alt="02b stackToExample2">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truestacktoscreen"><a class="anchor" href="#truestacktoscreen"></a>stackToScreen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This methods is similar to <code>stackTo</code>, but it positions the object
relative to the current view.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq=Shape.square();
add(sq.stackToScreen(Anchor.LEFT));//Stack square to the left of the screen, with no gaps
add(sq.copy().stackToScreen(Anchor.RIGHT,.3,.1));//Stack a copy of square to the left of the screen,with gaps of .3 horizontal and .1 vertical (here only horizontal one is used)
add(Shape.circle().stackToScreen(Anchor.UL));//Stack a unit circle to the upper left corner of the screen, with no gaps
waitSeconds(5);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There is shortcut method if you want to simply put the object at the center screen. The method <code>.center()</code> is equivalent to <code>.stackToScreen(Anchor.BY_CENTER)</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truescaling-objects"><a class="anchor" href="#truescaling-objects"></a>Scaling objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All <code>MathObject</code> instances can be scaled with the <code>scale</code> command.
Scaling can be done from a given scale center or by default, the center
of the object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">add(Shape.circle().shift(-1, 0).scale(.5, 1));//x-scale and y-scale around center
add(Shape.circle().shift(0, 1).scale(Point.at(0, 0), 1.3, .2));//x-scale and y-scale around (0,0)
add(Shape.square().shift(1, 0).scale(.3)); //Uniform scale around center
waitSeconds(5);</code></pre>
</div>
</div>
<div class="paragraph">
<p>produces the result:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="04_scaleExample1.png" alt="04 scaleExample1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truerotating-objects"><a class="anchor" href="#truerotating-objects"></a>Rotating objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>rotate</code> command rotates the object around a given center (or the
center of the object if none given). The angle is specified in radians,
but can also be given in degrees using the <code>DEGREES</code> constant. The format
is <code>object.rotate(center_of_rotation,angle)</code> or <code>object.rotate(angle)</code>.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape ellipse=Shape.circle().scale(.5,1);//Creates an ellipse
for (int n = 0; n &lt; 180; n+=20) {
    add(ellipse.copy().rotate(Point.at(.5,0),n*DEGREES));
}
waitSeconds(5);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gives this spirograh-like picture:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="05_rotateExample1.png" alt="05 rotateExample1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueaffine-transforms"><a class="anchor" href="#trueaffine-transforms"></a>Affine Transforms</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>shift</code>, <code>rotate</code> and <code>scale</code> are particular cases of a more general affine
transform implemented by the <code>AffineJTransform</code> class. This class defines
general affine transforms in the 2D plane, and has several static
convenience methods for some of the most common transforms:</p>
</div>
<div class="paragraph">
<p>The <code>createTranslationTransform(Vec v)</code> or
<code>createTranslationTransform(Point A, Point B)</code> creates a traslation
transform. The <code>shift</code> command is just a shortcut for this transform.</p>
</div>
<div class="paragraph">
<p>The <code>create2DRotationTransform(Point center, double angle)</code> creates a
rotation transform, used in the <code>rotate</code> command.</p>
</div>
<div class="paragraph">
<p>The
<code>createScaleTransform(Point center, double sx, double sy, double sz)</code> creates
a scaling transform. The z-scale factor is here for compatibility to
extend to the 3D case, but is currently not used. Used in the <code>scale</code> command.</p>
</div>
<div class="paragraph">
<p>Given any <code>MathObject</code> instance, there are 2 main methods to use an
<code>AffineJTransform</code> object on it:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>transform.applyTransform(object)</code> method transforms and modifies the
current object, returning <code>void</code>.</p>
</li>
<li>
<p>The <code>transform.getTransformed(object)</code> returns a copy of the object transformed. The original object is unaltered.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The
<code>createDirect2DHomothecy(Point A, Point B, Point C, Point D, double alpha)</code> is
a combination of shifting, rotating and uniform scaling. This method
generates the (only) direct homothecy that maps the points (A,B) into
points (C,D). The <code>alpha</code> parameter is used for animations, as a value of
<code>alpha=0</code> returns the identity transform and <code>alpha=1</code> returns the full
transform. Intermediate values return intermediate transforms,
interpolating the shifting, rotating, and scaling parameters adequately.</p>
</div>
<div class="paragraph">
<p>Look at the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq = Shape.square().shift(-1.5,-1);
Point A = sq.getPoint(0);//First vertex of the square (lower-left corner)
Point B = sq.getPoint(1);//First vertex of the square (lower-right corner)
Point C = Point.at(1.5, -1);//Destiny point of A
Point D = Point.at(1.7, .5);//Destiny point of B
add(A, B, C, D);
for (double alpha = 0; alpha &lt;= 1; alpha += .2) {
    AffineJTransform transform = AffineJTransform.createDirect2DHomothecy(A, B, C, D, alpha);
    add(transform.getTransformedObject(sq));
}
waitSeconds(5);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Produces the following sequence of interpolated transforms from one
square to another. Note that an homothecy may change scale of objects,
but proportions are unaltered:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="06_homothecy1.png" alt="06 homothecy1">
</div>
</div>
<div class="paragraph">
<p>Notice also another new method here, the <code>getPoint(n)</code> method in a
<code>Shape</code>, will return the n-th point at the shape.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You should be careful, when defining the parameters of a
transformation like <code>createDirect2DHomothecy(A, B, C, D, alpha)</code> if the
points <code>A, B, C, D</code> are going to be actually modified by the transformation itself (for
example, A is an instance of a point of the shape you are transforming). The safe
approach in this case should be using copies of the points as parameters, with the <code>.copy()</code> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If we want to make a reflection of an object, we can use the static
methods <code>createReflection</code> and <code>createReflectionByAxis</code>. They differ in
the way the transformation is specified:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>createReflection(Point A, Point B, double alpha)</code> creates the (only)
reflection that maps the point <code>A</code> into point <code>B</code>. The reflection axis is
the perpendicular bisector of the segment joining the two points.</p>
</li>
<li>
<p><code>createReflectionByAxis(Point E1, Point E2, double alpha)</code> creates the
(only) reflection with axis the line specified by the points <code>E1</code> and
<code>E2</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In both cases, the <code>alpha</code> parameter works in a similar way than the
homothecy transform.</p>
</div>
<div class="paragraph">
<p>An example of <code>createReflection</code> is showed in the following source code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq = Shape.regularPolygon(5);
Point A = sq.getPoint(0);//First vertex of the pentagon(lower-left corner)
Point B = A.copy().shift(.5,-.2);
add(A, B);
for (double alpha = 0; alpha &lt;= 1; alpha += .2) {
    AffineJTransform transform = AffineJTransform.createReflection(A, B, alpha);//Reflection that maps A into B
    add(transform.getTransformedObject(sq));
}
camera.adjustToAllObjects();
waitSeconds(5);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="07_reflectionExample1.png" alt="07 reflectionExample1">
</div>
</div>
<div class="paragraph">
<p>There is also a more general way to define an affine transform using
<code>createAffineTransformation(Point A, Point B, Point C, Point D, Point E, Point F, double lambda)</code>.
It returns the (only) affine transform that maps the points (A,B,C) into
(D,E,F), with the <code>lambda</code> interpolation parameter as in the previous
methods. Here&#8217;s an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq = Shape.square();
Shape circ = Shape.circle().scale(.5).shift(.5, .5);//A circle inscribed into the square
Point A = Point.at(0, 0); //A maps to D
Point B = Point.at(1, 0); //B maps to E
Point C = Point.at(0, 1); //C maps to F
Point D = Point.at(1.5, -.5).dotStyle(DotSyle.CROSS);
Point E = Point.at(2, 0).dotStyle(DotSyle.CROSS);
Point F = Point.at(1.75, .75).dotStyle(DotSyle.CROSS);
add(sq, circ, A, B, C, D, E, F);
AffineJTransform transform = AffineJTransform.createAffineTransformation(A, B, C, D, E, F, 1);
add(transform.getTransformedObject(sq));
add(transform.getTransformedObject(circ));
camera.adjustToAllObjects();
waitSeconds(5);</code></pre>
</div>
</div>
<div class="paragraph">
<p>That produces the following image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="08_GeneralAffineExample1.png" alt="08 GeneralAffineExample1">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueanimations"><a class="anchor" href="#trueanimations"></a>Animations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far, we&#8217;ve learned to draw basic objects, and put them in the
position we desire. What about animations? Well, that is what this
library is meant for. We have the <code>Animation</code> class that will store any
kind of animation you can do to an object. Not only
<code>MathObject</code> instances can be animated, but also the <code>Camera</code> object.</p>
</div>
<div class="paragraph">
<p>An <code>Animation</code> object has 3 important methods that should be understood
if you want to implement your own animations or playing it manually with
the <code>advanceFrame()</code> method</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>initialize()</code> method, which prepares the objects to be animated.
It should be called immediately before the animation begins, that is, no
modifications should be done to the objects between this method and the
start of the animation.</p>
</li>
<li>
<p>The <code>doAnim(double t, double lt)</code> method. This method actually performs
the animation. It accepts 2 parameters: The parameter <code>t</code> ranges from 0
to 1 where 0 is the beginning and 1 is the end. This is not actually the
time, but the percentage of animation done. The second parameter is a
"smoothed" version of the parameter <code>t</code>, where a smooth function is
applied so that the animation starts and ends in a soft way, rather than
with the lineal <code>t</code>. Currently, the smooth function used is</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="lambda.png" alt="lambda">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="smoothFunction.png" alt="smoothFunction">
</div>
</div>
<div class="paragraph">
<p>this function is defined in the public method <code>lambda(double t)</code> in the <code>Animation</code> class.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>finishAnimation()</code> method, that should do all the needed cleanup
and finishing jobs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An <code>Animation</code> object can be played with the <code>playAnimation</code> method, but
as we&#8217;ll see, there are other ways to easily access to most used
animations.</p>
</div>
<div class="paragraph">
<p>In general, parameters of all animations always follow the structure
<code>(runTime, parameters, object_1,&#8230;&#8203;,object_n)</code>. The last part is a
varargs <code>MathObject</code>, this way, you can apply the animation to an
arbitrary number of objects.</p>
</div>
<div class="sect2">
<h3 id="truebasic-animations"><a class="anchor" href="#truebasic-animations"></a>Basic Animations</h3>
<div class="paragraph">
<p>The basic transformations also have their animated versions. They are
defined as static methods in the <code>Commands</code> class.</p>
</div>
<div class="paragraph">
<p>A gif (and its generating code) is worth a thousand words:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq=Shape.square().fillColor("#87556f").thickness(2);
//Animates a moving square, with 3 seconds of duration
Animation shiftAnim = Commands.shift(3, Vec.to(.75,-.5), sq);
playAnimation(shiftAnim);
waitSeconds(1);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="animationShift1.gif" alt="animationShift1">
</div>
</div>
<div class="paragraph">
<p>We have performed a simple animation defining it in the variable
<code>shiftAnim</code> and playing it with the <code>playAnimation</code> method.</p>
</div>
<div class="paragraph">
<p>This animation and many other have a shorter access through the
<code>play</code> object. The following code produces the same result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq=Shape.square().fillColor("#87556f").thickness(2);
play.shift(3, Vec.to(.75,-.5), sq);
waitSeconds(1);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>play</code> object is an instance of the <code>PlayAnim</code> class that holds
several fast-access to most common animations.</p>
</div>
<div class="paragraph">
<p>You can replace the animation method with one of this list of basic
transforms, in its easy-access version, to see how it works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">//Rotates the square arund its center, 45 degress, in 3s
play.rotate(3,45*DEGRESS,sq);
//Rotates the square around the origin 120
play.rotate(5,Point.at(0,0),120*DEGREES,sq);degress, in 5s
//Scales the square uniformly at 70%, around its center, in 3s
play.scale(3,.7,sq);
//Scales the square at 70% x, 150% y, around the origin, in 3s
play.scale(3,Point.at(0,0),.7,1.5,sq);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>play</code> object has also most animations related to the view camera:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">//Animates a camera pan for 4 seconds, with vector (1,-1)
play.cameraShift(4,1,-1);
//Zoom in the view 200%, in 3 seconds
play.cameraScale(3,.5);
//Zoom out the view 25%, in 3 seconds
play.cameraScale(3,4);
//Pan and zoom the camera so that the specified objects are visible, in 3 seconds
play.adjustToObjects(3,sq,circ,A,B);
//Pan and zoom the camera so that all objects in the scene are visible, in 3 seconds
play.adjustCameraToAllObjects(3);</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Before adjusting the camera to objects, you can define the gaps used to
leave space between the objects and the border of the screen, with the
<code>camera.setGaps(hGap,vGap)</code> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some method to add or remove objects to the scene are also included:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">//Fade the object from 0 alpha to 1, and add the object to the scene, in 2 seconds
play.fadeIn(2,sq);
//Fade out the object to 1 alpha to 0, removing it from the scene, in 2 seconds
play.fadeOut(2,sq);
//Fade out all objects in the scene, in 2 seconds
play.fadeOutAll(2);
//Scales the object from 0 to 1, adding it to the scene
play.growIn(2,sq);
//The same, but it also applies a 30 degrees rotation
play.growIn(2,30*DEGREES,sq);
//The opposite, scales the object to 0 and removes it from the scene
play.shrinkOut(2,sq);
//The same but it also applies a 45 degrees rotation
play.shrinkOut(2,45*DEGREES,sq);
//Scales briefly the object, to highlight it, for 1 second
play.highlight(1,sq);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Most of this commands can be called omitting the runtime parameter,
using the default time for each one. For example, calling
<code>play.fadeIn(sq)</code> will execute the <code>fadeIn</code> animation in 1 second, which
is the value defined in the public variable <code>play.defaultRunTimefadeIn</code>.
You can change the values of these variables as you need. Here is a demo
animation with its source code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">LaTeXMathObject text;
Shape sq = Shape.square().fillColor("#87556f").thickness(2).center();//
text = LaTeXMathObject.make("{\\tt play.fadeIn(sq)}").stackToScreen(Anchor.LOWER, .1, .1);
add(text);
play.fadeIn(sq);
waitSeconds(1);
remove(text);
text = LaTeXMathObject.make("{\\tt play.highlight(sq)}").stackToScreen(Anchor.LOWER, .1, .1);
add(text);
play.highlight(sq);
waitSeconds(1);
remove(text);
text = LaTeXMathObject.make("{\\tt play.shrinkOut(1,45*DEGREES, sq)}").stackToScreen(Anchor.LOWER, .1, .1);
add(text);
play.shrinkOut(1,45*DEGREES, sq);
waitSeconds(1);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="fadeHighLightShrinkDemo.gif" alt="fadeHighLightShrinkDemo">
</div>
</div>
</div>
<div class="sect2">
<h3 id="truethe-showcreation-animation"><a class="anchor" href="#truethe-showcreation-animation"></a>The ShowCreation animation</h3>
<div class="paragraph">
<p>This animation draws the specified object and add it to the scene.
Depending on the object, several strategies (that is several ways to actually create the object) are used, specified in the
enum <code>ShowCreationStrategy</code>. Strategy is automatically chosen, but it
can be overriden with the method <code>setStrategy</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Forcing a
specified strategy may lead to errors in some cases, as some methods are
designed for specific subclasses, like <code>Line</code> or <code>Arrow2D</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s show with an example. Using the short version with the
<code>play</code> object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape sq=Shape.square().fillColor("#87556f").thickness(2).center();
play.showCreation(2,sq);//Creates sq in 2 seconds
//The other way to do this:
//ShowCreation sc=new ShowCreation(2, sq);
//playAnimation(sc);
waitSeconds(1);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="showCreation1.gif" alt="showCreation1">
</div>
</div>
<div class="paragraph">
<p>In the case of a simple shape like this, the <code>SIMPLE_SHAPE_CREATION</code>
strategy is used.</p>
</div>
<div class="paragraph">
<p>In case of <code>MultiShape</code> objects, which include <code>LaTeXMathObject</code> and
<code>SVGObject</code>, the strategy <code>FIRST_DRAW_AND_THEN_FILL</code>, where, as its name suggest, first draw the outline and then fill the shape.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">LaTeXMathObject text=LaTeXMathObject.make("$a^2+b^2=c^2$").center().scale(3);
play.showCreation(text);</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="showCreation2.gif" alt="showCreation2"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="truethe-transform-animation"><a class="anchor" href="#truethe-transform-animation"></a>The Transform animation</h3>
<div class="paragraph">
<p>The <code>Transform</code> class animates a smooth transform from one <code>Shape</code> object to another.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape circle = Shape.circle().shift(-1, 0).scale(.5);
Shape pentagon = Shape.regularPolygon(5).shift(.5, -.5).style("solidblue");
play.transform(3, circle, pentagon);
waitSeconds(3);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="transform1.gif" alt="transform1">
</div>
</div>
<div class="paragraph">
<p>Note that the <code>transform</code> animation also interpolates drawing parameters as thickness and color.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
After transforming object <code>A</code> into <code>B</code>, in some cases the transformed object becomes unusable. You should using <code>B</code> after that in a general case. That is no the case when the objects transformed are both <code>Shape</code> for example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The precise method of transform depends on the type of source and destination objects. While both have to be <code>Shape</code> instances, the specified type of the object, given by the <code>getObjectType()</code> determines the most appropiate type of transformation. For example, in the previous case, a point-by-point interpolation was chosen. However, if both shapes are regular polygons with the same number of sides, a homothecy is chosen to transform. We will show another example, not using the "long" form given by the ` play` object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape pentagon = Shape.regularPolygon(5).thickness(3).scale(.5).shift(-1,-1);
Shape pentagonDst = Shape.regularPolygon(5).thickness(3).scale(.8).shift(.5,-.5).rotate(45*DEGREES);
Transform tr = new Transform(3, pentagon, pentagonDst);
playAnimation(tr);
waitSeconds(1);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="transform2.gif" alt="transform2">
</div>
</div>
<div class="paragraph">
<p>While both methods may seem equal, the homothecy method ensures the object doesn&#8217;t get distorted in the way.
If you want to force a concrete transform strategy, you can do it with the method <code>.transformMethod(method)</code> where method is a value of the enum <code>TransformMethod</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Forcing a concrete transform strategy may leads to errors in some cases. In most cases, no animation will be done and a message will be added to the logs.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Apart from different transform strategies, this class also allows different previous-to-transform optimization strategies (well, right now it only has one), listed in the enum <code>OptimizeMethod</code>.</p>
</div>
<div class="paragraph">
<p>By default, a transform animations convertes the n-th point of Shape A into the n-th point of Shape B. The <code>SIMPLE_CONNECTED_PATHS</code> optimization aligns the paths cycling the transformed object, so that the sum of the distances between points of A from the points of B is minimum, ensuring a cleaner  point-to-point transform from A to B. The following code compares the same transformation with and without optimization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">Shape circle = Shape.circle().scale(-1, 1).scale(.6).shift(-.5, .3);
Shape circle2 = circle.copy();
Shape square = Shape.square().shift(.5, 0).scale(.6).rotate(45*DEGREES);
add(LaTeXMathObject.make("With optimization").stackToScreen(Anchor.LOWER, .1, .1));
Transform tr = new Transform(3, circle, square);
playAnimation(tr);
waitSeconds(1);
play.fadeOutAll();
add(LaTeXMathObject.make("Without optimization").stackToScreen(Anchor.LOWER, .1, .1));
Transform tr2 = new Transform(3, circle2, square);
tr2.optimizePaths(false);
playAnimation(tr2);
waitSeconds(1);
play.fadeOutAll();</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="transform3.gif" alt="transform3">
</div>
</div>
</div>
<div class="sect2">
<h3 id="truechanging-styles"><a class="anchor" href="#truechanging-styles"></a>Changing styles</h3>
<div class="paragraph">
<p>So far, we have seen how to animate the position or shape of an object. In the <code>Transform</code> animation, style of the transformed object changes smoothly to match the style of destiny too. There are a few animations related to the style of an object:</p>
</div>
<div class="paragraph">
<p>setColor</p>
</div>
<div class="paragraph">
<p>setMP</p>
</div>
<div class="paragraph">
<p>setStyle</p>
</div>
</div>
<div class="sect2">
<h3 id="truecamera-animations"><a class="anchor" href="#truecamera-animations"></a>Camera animations</h3>
<div class="paragraph">
<p>cameraShift
cameraScale</p>
</div>
<div class="paragraph">
<p>cameraZoomToRect</p>
</div>
</div>
<div class="sect2">
<h3 id="trueaffinetransform-related-animations"><a class="anchor" href="#trueaffinetransform-related-animations"></a>AffineTransform related animations</h3>
<div class="paragraph">
<p>affineTransform(double runtime, Point a, Point b, Point c, Point d, Point e, Point f, MathObject&#8230;&#8203; objects) {</p>
</div>
<div class="paragraph">
<p>reflection(double runtime, Point A, Point B, MathObject&#8230;&#8203; objects) {</p>
</div>
<div class="paragraph">
<p>reflectionByAxis(double runtime, Point a, Point b, MathObject&#8230;&#8203; objects) {</p>
</div>
<div class="literalblock">
<div class="content">
<pre>homothecy(double runtime, Point a, Point b, Point c, Point d, MathObject... objects) {</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-11-05 12:06:58 +0100
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>